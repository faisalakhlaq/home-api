# Generated by Django 4.2 on 2024-03-29 22:20

import apps.properties.models.property
import apps.properties.models.property_image
import django.core.validators
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ("core", "0001_initial"),
    ]

    operations = [
        migrations.CreateModel(
            name="Property",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "price",
                    models.DecimalField(
                        decimal_places=2,
                        help_text="Price of the property.",
                        max_digits=13,
                        validators=[django.core.validators.MinValueValidator(0)],
                    ),
                ),
                (
                    "price_currency",
                    models.CharField(
                        help_text="Provide the currency abbreviations for the price. (3-letter acronym for the currency).",
                        max_length=5,
                    ),
                ),
                (
                    "area",
                    models.FloatField(
                        help_text="Coverd area of the property in square meters.The covered area\n        of a property typically refers to the total indoor living area, including\n        all rooms, hallways, and any other enclosed spaces within the structure.",
                        validators=[django.core.validators.MinValueValidator(0)],
                    ),
                ),
                (
                    "total_area",
                    models.FloatField(
                        help_text="Total ground area of the property. The total ground space\n        available refers to the entire area of land upon which the house is built,\n        including any outdoor spaces such as yards, gardens, driveways, etc.",
                        validators=[django.core.validators.MinValueValidator(0)],
                    ),
                ),
                (
                    "measured_area",
                    models.FloatField(
                        blank=True,
                        null=True,
                        validators=[django.core.validators.MinValueValidator(0)],
                    ),
                ),
                (
                    "total_rooms",
                    models.FloatField(
                        blank=True,
                        help_text="Total number of rooms in the property.",
                        null=True,
                        validators=[django.core.validators.MinValueValidator(0)],
                    ),
                ),
                (
                    "toilets",
                    models.IntegerField(
                        blank=True,
                        help_text="Total number of toilets in the property.",
                        null=True,
                        validators=[django.core.validators.MinValueValidator(0)],
                    ),
                ),
                (
                    "construction_year",
                    models.IntegerField(
                        blank=True,
                        help_text="Year in which the property was built.",
                        null=True,
                        validators=[
                            django.core.validators.MinValueValidator(0),
                            apps.properties.models.property.max_value_current_year,
                        ],
                    ),
                ),
                (
                    "renovation_year",
                    models.IntegerField(
                        blank=True,
                        help_text="Year in which the property was built.",
                        null=True,
                        validators=[
                            django.core.validators.MinValueValidator(0),
                            apps.properties.models.property.max_value_current_year,
                        ],
                    ),
                ),
                (
                    "total_floors",
                    models.IntegerField(
                        blank=True,
                        help_text="Total number of floors and stories the property conprises of.",
                        null=True,
                        validators=[django.core.validators.MinValueValidator(1)],
                    ),
                ),
                (
                    "heating",
                    models.CharField(
                        blank=True,
                        help_text="e.g. Heating installation. e.g. Central heating with one\n        heating unit.",
                        max_length=255,
                    ),
                ),
                (
                    "outer_walls",
                    models.CharField(
                        blank=True, help_text="e.g. Brick.", max_length=255
                    ),
                ),
                (
                    "roof_type",
                    models.CharField(
                        blank=True, help_text="e.g. Tile.", max_length=255
                    ),
                ),
                ("description", models.TextField(blank=True)),
                (
                    "address",
                    models.ForeignKey(
                        help_text="Address of the property.",
                        on_delete=django.db.models.deletion.RESTRICT,
                        related_name="address_properties",
                        to="core.address",
                    ),
                ),
                (
                    "status",
                    models.ForeignKey(
                        blank=True,
                        help_text="Status of the property.",
                        null=True,
                        on_delete=django.db.models.deletion.RESTRICT,
                        related_name="status_properties",
                        to="core.status",
                    ),
                ),
                (
                    "type",
                    models.ForeignKey(
                        blank=True,
                        help_text="Type | Genre of the property.",
                        null=True,
                        on_delete=django.db.models.deletion.RESTRICT,
                        related_name="genre_properties",
                        to="core.genre",
                    ),
                ),
            ],
            options={
                "verbose_name": "Property",
                "verbose_name_plural": "Properties",
            },
        ),
        migrations.CreateModel(
            name="PropertyImage",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "title",
                    models.CharField(
                        blank=True,
                        help_text="Optional title  for the image.",
                        max_length=255,
                    ),
                ),
                (
                    "description",
                    models.TextField(
                        blank=True, help_text="Optional description for the image."
                    ),
                ),
                (
                    "is_primary",
                    models.BooleanField(
                        default=False,
                        help_text="Primary image will be displayed first for the property.",
                    ),
                ),
                (
                    "image",
                    models.ImageField(
                        help_text="Image of the property.",
                        upload_to=apps.properties.models.property_image.property_image_path,
                        validators=[
                            django.core.validators.FileExtensionValidator(
                                allowed_extensions=["png", "jpg", "jpeg", "bmp", "gif"]
                            )
                        ],
                    ),
                ),
                (
                    "property",
                    models.ForeignKey(
                        help_text="Image belong to the given property.",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="property_images",
                        to="properties.property",
                    ),
                ),
            ],
            options={
                "verbose_name": "Property Image",
                "verbose_name_plural": "Property Images",
            },
        ),
    ]
